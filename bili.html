<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bilibili</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .flex-wrapper {
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div class="flex-wrapper">
        <iframe id="if0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
    </div>
    <script>
        function setUserAgent(window, userAgent) {
            if (window.navigator.userAgent != userAgent) {
                var userAgentProp = { get: function () { return userAgent; } };
                try {
                    Object.defineProperty(window.navigator, 'userAgent', userAgentProp);
                } catch (e) {
                    window.navigator = Object.create(navigator, {
                        userAgent: userAgentProp
                    });
                }
            }
        }
        setUserAgent(document.getElementById('if0').contentWindow, 'windows');
        setUserAgent(window, 'windows');
    </script>

    <script>
        function getQueryStringArgs() {
            //取得查询字符串并去掉开头的问号
            var qs = (location.search.length > 0 ? location.search.substring(1) : ""),
                //保存数据的对象
                args = {},
                //取得每一项
                items = qs.length ? qs.split("&") : [],
                item = null,
                name = null,
                value = null,
                //在 for 循环中使用
                i = 0,
                len = items.length;
            //逐个将每一项添加到 args 对象中
            for (i = 0; i < len; i++) {
                item = items[i].split("=");
                name = decodeURIComponent(item[0]);
                value = decodeURIComponent(item[1]);
                if (name.length) {
                    args[name] = value;
                }
            }
            return args;
        }
        let args = getQueryStringArgs();
        console.log(args);
        let bid = args['id'];
        if (bid) {
            let if0 = document.getElementById("if0");
            console.log(if0.contentWindow.navigator.userAgent);
            if0.src = "//player.bilibili.com/player.html?bvid=" + bid;
        }
    </script>
</body>

</html>